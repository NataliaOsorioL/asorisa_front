{"ast":null,"code":"import { inject } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { HttpClient } from '@angular/common/http';\nimport { tap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport let AuthService = /*#__PURE__*/(() => {\n  class AuthService {\n    constructor() {\n      this.API_URL = 'https://fizis1pgyi.execute-api.us-east-1.amazonaws.com';\n      this.usuario = null;\n      this.router = inject(Router);\n      this.http = inject(HttpClient);\n    }\n    login(correo, contrasena) {\n      return this.http.post(`${this.API_URL}/login`, {\n        correo,\n        password: contrasena\n      }).pipe(tap(res => {\n        if (res.token) {\n          this.usuario = res.user;\n          localStorage.setItem('usuario', JSON.stringify(this.usuario));\n          localStorage.setItem('token', res.token);\n          this.router.navigate(['/admin']);\n        }\n      }));\n    }\n    logout() {\n      this.usuario = null;\n      localStorage.removeItem('usuario');\n      localStorage.removeItem('token');\n      this.router.navigate(['/login']);\n    }\n    getUsuario() {\n      if (!this.usuario) {\n        const saved = localStorage.getItem('usuario');\n        if (saved) this.usuario = JSON.parse(saved);\n      }\n      return this.usuario;\n    }\n    getToken() {\n      return localStorage.getItem('token');\n    }\n    isAdmin() {\n      const u = this.getUsuario();\n      return u && u.rol === 'admin';\n    }\n    static {\n      this.ɵfac = function AuthService_Factory(t) {\n        return new (t || AuthService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: AuthService,\n        factory: AuthService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return AuthService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}